
     p  where
                   p = 2 fby nxprime(p);

          nxprime(q) = m asa isprime(m)
                       where
                        m=n;
                        n = (q fby n)+1;
                       end fby nxprime(next q);

          isprime(n) = (p*p > k asa (p*p >= k) or ( k mod p eq 0))
                       where
                         k = first n;
                       end fby isprime(next n);
        end
